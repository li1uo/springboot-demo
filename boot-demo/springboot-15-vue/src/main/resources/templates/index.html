<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <link href='/webjars/bootstrap/css/bootstrap.min.css' rel='stylesheet'>
    <title>Vue demo</title>
</head>
<body style="margin-top: 50px">
<div class="container" id="main">
    <table class="table table-striped table-bordered">
        <thead>
        <tr>
            <th>Mobile</th>
            <th>User name</th>
            <th>Password</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr v-for="user in users">
            <td>{{ user.mobile }}</td>
            <td>{{ user.userName }}</td>
            <td>{{ user.password }}</td>
            <td>
                <button class="btn btn-primary" v-on:click="editUser(user)">Edit</button>
                <button class="btn btn-danger" v-on:click="deleteUser(user)">Delete</button>
            </td>
        </tr>
        </tbody>
    </table>
</div>
<script src="/webjars/jquery/jquery.min.js"></script>
<script src="/webjars/bootstrap/js/bootstrap.min.js"></script>
<!-- Vue imports -->
<script src="webjars/vue/vue.min.js"></script>
<script src="webjars/axios/dist/axios.min.js"></script>
<!-- Actual Vue.js script -->
<script>
    var app = new Vue({
        el: '#main',
        data() {
            return {
                users: null
            }
        },
        mounted() {
            this.getUsers();
        },
        methods: {
            getUsers: function () {
                axios
                    .get("/user/list")
                    .then(response => (this.users = response.data.data));
            },
            editUser: function (user) {
                alert(user.userName);
            },
            deleteUser: async function (user) {
                //await axios.delete("/api/v1/users/" + user.id);
                //this.getUsers();
                alert(user.userName);
            }
        }
    })
</script>
</body>
</html>